(()=>{var e={};e.id=508,e.ids=[508],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},35816:e=>{"use strict";e.exports=require("process")},6162:e=>{"use strict";e.exports=require("worker_threads")},72254:e=>{"use strict";e.exports=require("node:buffer")},6005:e=>{"use strict";e.exports=require("node:crypto")},87561:e=>{"use strict";e.exports=require("node:fs")},88849:e=>{"use strict";e.exports=require("node:http")},22286:e=>{"use strict";e.exports=require("node:https")},87503:e=>{"use strict";e.exports=require("node:net")},49411:e=>{"use strict";e.exports=require("node:path")},97742:e=>{"use strict";e.exports=require("node:process")},84492:e=>{"use strict";e.exports=require("node:stream")},72477:e=>{"use strict";e.exports=require("node:stream/web")},41041:e=>{"use strict";e.exports=require("node:url")},47261:e=>{"use strict";e.exports=require("node:util")},65628:e=>{"use strict";e.exports=require("node:zlib")},56372:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>o}),s(13547),s(43731),s(35866);var a=s(23191),r=s(88716),l=s(37922),i=s.n(l),n=s(95231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(t,d);let o=["",{children:["talent",{children:["projects",{children:["workspace",{children:["[project_id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,13547)),"/home/project/app/talent/projects/workspace/[project_id]/page.tsx"]}]},{}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,43731)),"/home/project/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/home/project/app/talent/projects/workspace/[project_id]/page.tsx"],m="/talent/projects/workspace/[project_id]/page",x={require:s,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/talent/projects/workspace/[project_id]/page",pathname:"/talent/projects/workspace/[project_id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},29187:(e,t,s)=>{Promise.resolve().then(s.bind(s,61931))},61931:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>eH});var a=s(10326),r=s(17577),l=s(35047),i=s(90434),n=s(64647),d=s(37202),o=s(7027),c=s(48998),m=s(40617),x=s(37358),p=s(76557);let u=(0,p.Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);var h=s(43686),g=s(45804),v=s(79210),b=s(567),f=s(90772),j=s(79360),y=s(77863);let w=(0,j.j)("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),N=r.forwardRef(({className:e,variant:t,...s},r)=>a.jsx("div",{ref:r,role:"alert",className:(0,y.cn)(w({variant:t}),e),...s}));N.displayName="Alert",r.forwardRef(({className:e,...t},s)=>a.jsx("h5",{ref:s,className:(0,y.cn)("mb-1 font-medium leading-none tracking-tight",e),...t})).displayName="AlertTitle";let k=r.forwardRef(({className:e,...t},s)=>a.jsx("div",{ref:s,className:(0,y.cn)("text-sm [&_p]:leading-relaxed",e),...t}));k.displayName="AlertDescription";var A=s(70075),C=s(93095),P=s(77335),S="Progress",[E,D]=(0,C.b)(S),[F,T]=E(S),R=r.forwardRef((e,t)=>{var s,r;let{__scopeProgress:l,value:i=null,max:n,getValueLabel:d=_,...o}=e;(n||0===n)&&!M(n)&&console.error((s=`${n}`,`Invalid prop \`max\` of value \`${s}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let c=M(n)?n:100;null===i||z(i,c)||console.error((r=`${i}`,`Invalid prop \`value\` of value \`${r}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let m=z(i,c)?i:null,x=q(m)?d(m,c):void 0;return(0,a.jsx)(F,{scope:l,value:m,max:c,children:(0,a.jsx)(P.WV.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":q(m)?m:void 0,"aria-valuetext":x,role:"progressbar","data-state":I(m,c),"data-value":m??void 0,"data-max":c,...o,ref:t})})});R.displayName=S;var Z="ProgressIndicator",$=r.forwardRef((e,t)=>{let{__scopeProgress:s,...r}=e,l=T(Z,s);return(0,a.jsx)(P.WV.div,{"data-state":I(l.value,l.max),"data-value":l.value??void 0,"data-max":l.max,...r,ref:t})});function _(e,t){return`${Math.round(e/t*100)}%`}function I(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function q(e){return"number"==typeof e}function M(e){return q(e)&&!isNaN(e)&&e>0}function z(e,t){return q(e)&&!isNaN(e)&&e<=t&&e>=0}$.displayName=Z;let U=r.forwardRef(({className:e,value:t,...s},r)=>a.jsx(R,{ref:r,className:(0,y.cn)("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",e),...s,children:a.jsx($,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));U.displayName=R.displayName;var H=s(53468),L=s(36283);let V=(0,p.Z)("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);var W=s(54659);let K=(0,p.Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),O=(0,p.Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var Y=s(24230);let B=["Draft","Live","Picked Up","Scope Defined","In Progress","Submitted","Revisions","Final Payment","Approved","Performance Tracking","Complete"],G=["Draft","Live","Picked Up","Scope Defined","In Progress","Submitted","Revisions","Final Payment","Approved","Performance Tracking","Complete"],Q=(e,t,s,r,l)=>{let i={Live:{talent:{title:"Project Available",description:"This project is waiting for a qualified talent to pick it up.",action:"Pick Up Project",icon:a.jsx(H.Z,{className:"h-4 w-4"}),variant:"default",tab:"deliverables"}},"Picked Up":{talent:{title:"Recommend Initial Deliverables",description:"Start by recommending deliverables to define the project scope.",action:"Add Deliverables",icon:a.jsx(L.Z,{className:"h-4 w-4"}),variant:"default",tab:"deliverables"},client:{title:"Review Talent Recommendations",description:"Your assigned talent will recommend deliverables for your approval.",action:"View Deliverables",icon:a.jsx(L.Z,{className:"h-4 w-4"}),variant:"outline",tab:"deliverables"}},"Scope Defined":{talent:{title:"Start Working",description:"Begin work on the approved deliverables.",action:"Start Work",icon:a.jsx(V,{className:"h-4 w-4"}),variant:"default",tab:"deliverables"},client:{title:"Work in Progress",description:"Your talent is working on the approved deliverables.",action:"Monitor Progress",icon:a.jsx(c.Z,{className:"h-4 w-4"}),variant:"outline",tab:"deliverables"}},Submitted:{talent:{title:"Work Submitted",description:"Your deliverables are under client review.",action:"View Submission",icon:a.jsx(W.Z,{className:"h-4 w-4"}),variant:"outline",tab:"deliverables"},client:{title:"Review Submitted Work",description:"Review the submitted deliverables and provide feedback.",action:"Review Work",icon:a.jsx(W.Z,{className:"h-4 w-4"}),variant:"default",tab:"deliverables"}},Revisions:{talent:{title:"Address Client Feedback",description:"Review client feedback and make necessary revisions.",action:"View Feedback",icon:a.jsx(m.Z,{className:"h-4 w-4"}),variant:"default",tab:"chat"},client:{title:"Revisions in Progress",description:"Your talent is addressing the feedback you provided.",action:"Monitor Progress",icon:a.jsx(c.Z,{className:"h-4 w-4"}),variant:"outline",tab:"deliverables"}},"Final Payment":{client:{title:s&&s.approved<s.total?"Approve All Deliverables First":"Process Final Payment",description:s&&s.approved<s.total?`${s.approved}/${s.total} deliverables approved. All deliverables must be approved before final payment.`:"All deliverables approved. Release the final payment.",action:s&&s.approved<s.total?"Review Deliverables":"Final Payment",icon:s&&s.approved<s.total?a.jsx(L.Z,{className:"h-4 w-4"}):a.jsx(u,{className:"h-4 w-4"}),variant:s&&s.approved<s.total?"outline":"default",tab:s&&s.approved<s.total?"deliverables":"payment"},talent:{title:"Final Payment Processing",description:s&&s.approved<s.total?`${s.approved}/${s.total} deliverables approved. Waiting for client to approve all deliverables.`:"Client is processing the final payment.",action:"View Status",icon:a.jsx(c.Z,{className:"h-4 w-4"}),variant:"outline",tab:"deliverables"}},Approved:{client:{title:r?"Ready for Performance Tracking":"Add Performance Tracking",description:r?"All deliverables approved. Performance tracking information added.":"Add performance tracking information to monitor ongoing results.",action:r?"Start Tracking":"Add Tracking Info",icon:a.jsx(K,{className:"h-4 w-4"}),variant:"default",tab:"tracking",onClick:l},talent:{title:"Work Approved!",description:"All your deliverables have been approved. Performance tracking will begin soon.",action:"View Status",icon:a.jsx(W.Z,{className:"h-4 w-4"}),variant:"outline",tab:"deliverables"}},"Performance Tracking":{client:{title:"Performance Tracking Active",description:"Monitor the ongoing performance and results of the completed work.",action:"View Metrics",icon:a.jsx(K,{className:"h-4 w-4"}),variant:"outline",tab:"tracking"},talent:{title:"Performance Tracking",description:"Your work is being tracked for performance and results.",action:"View Performance",icon:a.jsx(K,{className:"h-4 w-4"}),variant:"outline",tab:"tracking"}},Complete:{client:{title:"Project Complete",description:"Project has been successfully completed and archived.",action:"View Summary",icon:a.jsx(W.Z,{className:"h-4 w-4"}),variant:"outline",tab:"activity"},talent:{title:"Project Complete",description:"Congratulations! This project has been successfully completed.",action:"View Summary",icon:a.jsx(W.Z,{className:"h-4 w-4"}),variant:"outline",tab:"activity"}}};return i[e]?.[t]||null},X=({status:e,role:t,onTabChange:s,approvalProgress:r,hasTrackingInfo:l=!1,onAddTracking:i})=>{let{userRole:n}=(0,A.a)(),d=t||n||"client",o="talent"===d?G:B,c=o.indexOf(e),m=Q(e,d,r,l,i);return(0,a.jsxs)("div",{className:"space-y-6",children:[a.jsx("div",{className:"w-full overflow-x-auto",children:a.jsx("div",{className:"flex items-center justify-between space-x-2 min-w-max px-4",children:o.map((e,t)=>{let s=t<c,r=t===c,l=e.includes("Payment"),i="Performance Tracking"===e;return(0,a.jsxs)("div",{className:"flex-1 min-w-[80px] text-center",children:[a.jsx("div",{className:`mx-auto mb-1 h-8 w-8 rounded-full flex items-center justify-center text-sm font-bold transition-all ${s?l?"bg-[#00A499] text-white shadow-lg":i?"bg-purple-500 text-white shadow-lg":"bg-[#00A499] text-white shadow-lg":r?l?"bg-[#00A499] text-white shadow-lg ring-2 ring-[#00A499]/30":i?"bg-purple-500 text-white shadow-lg ring-2 ring-purple-500/30":"bg-[#2E3A8C] text-white shadow-lg ring-2 ring-[#2E3A8C]/30":"bg-gray-200 text-gray-600"}`,children:s?a.jsx(W.Z,{className:"h-4 w-4"}):t+1}),a.jsx("p",{className:`text-xs transition-all ${r?"font-semibold text-[#2E3A8C]":s?"font-medium text-gray-700":"text-gray-600"}`,children:e}),r&&a.jsx(b.C,{variant:"secondary",className:"mt-1 text-xs bg-blue-50 text-blue-700",children:"Current"})]},e)})})}),"Final Payment"===e&&r&&r.total>0&&(0,a.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h4",{className:"font-medium text-blue-900",children:"Deliverable Approval Progress"}),(0,a.jsxs)(b.C,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:[r.approved,"/",r.total," Approved"]})]}),a.jsx(U,{value:r.percentage,className:"h-2 mb-2"}),a.jsx("p",{className:"text-sm text-blue-700",children:r.approved===r.total?"All deliverables approved! Ready for final payment.":`${r.total-r.approved} deliverable${r.total-r.approved!=1?"s":""} still need${r.total-r.approved==1?"s":""} approval.`})]}),"Approved"===e&&(0,a.jsxs)("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h4",{className:"font-medium text-purple-900",children:"Performance Tracking Setup"}),a.jsx(b.C,{variant:"secondary",className:l?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800",children:l?"Ready":"Pending"})]}),a.jsx("p",{className:"text-sm text-purple-700",children:l?"Performance tracking information has been added. Project will move to tracking phase.":"Add performance tracking information to monitor ongoing results and move to the tracking phase."})]}),m&&(0,a.jsxs)(N,{className:"border-l-4 border-l-[#2E3A8C] bg-blue-50/50",children:[a.jsx(O,{className:"h-4 w-4 text-[#2E3A8C]"}),(0,a.jsxs)(k,{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[a.jsx("div",{className:"font-semibold text-[#2E3A8C]",children:m.title}),a.jsx("div",{className:"text-sm text-gray-700",children:m.description})]}),(0,a.jsxs)(f.z,{variant:m.variant,size:"sm",onClick:()=>{m?.onClick?m.onClick():m?.tab&&s&&s(m.tab)},className:"ml-4 flex items-center gap-2 whitespace-nowrap",children:[m.icon,m.action,a.jsx(Y.Z,{className:"h-3 w-3"})]})]})]}),c<o.length-1&&(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Next Step:"}),a.jsx("div",{className:"font-medium text-[#2E3A8C]",children:o[c+1]})]})]})};var J=s(54432),ee=s(87673),et=s(94019),es=s(83855);let ea=(0,p.Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),er=(0,p.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),el=(0,p.Z)("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);var ei=s(85999);let en=["recommended","scoped","in_progress","approved","performance_tracking"],ed={recommended:"Recommended",scoped:"Scoped",in_progress:"In Progress",approved:"Approved",performance_tracking:"Performance Tracking"},eo={recommended:"bg-purple-50/50 border-purple-200",scoped:"bg-blue-50/50 border-blue-200",in_progress:"bg-yellow-50/50 border-yellow-200",approved:"bg-green-50/50 border-green-200",performance_tracking:"bg-gray-50/50 border-gray-200"},ec=({deliverables:e,projectStartDate:t,projectDeadline:s,onStatusChange:r,onTrackingStart:l,onTrackingStop:i,onLogActivity:n,role:d="talent"})=>{let o=t=>e.filter(e=>e.status===t),m=e=>Math.max(0,e.estimatedHours-e.actualHours),x=e=>{let t=e.actualHours/e.estimatedHours*100;return t>=100?"bg-green-500":t>=75?"bg-yellow-500":"bg-blue-500"},p=(e,t)=>{let{status:s}=e;switch(t){case"client":if("recommended"===s)return{text:"Approve Scope",action:()=>r?.(e.id,"scoped")};if("in_progress"===s)return{text:"Review Work",action:()=>ei.A.info("Review submitted work")};if("scoped"===s)return{text:"Monitor Progress",action:()=>ei.A.info("Work will begin soon")};if("approved"===s)return{text:"Approve Final",action:()=>r?.(e.id,"performance_tracking")};return null;case"talent":if("scoped"===s)return{text:"Start Work",action:()=>r?.(e.id,"in_progress")};if("in_progress"===s&&!e.isTracking)return{text:"Track Time",action:()=>u(e)};if("in_progress"===s&&e.isTracking)return{text:"Stop Tracking",action:()=>h(e)};if("approved"===s)return{text:"View Results",action:()=>ei.A.info("Work approved by client")};return null;case"admin":return{text:"Manage",action:()=>ei.A.info("Admin management options")};default:return null}},u=e=>{e.isTracking||(l?.(e.id),n?.(`Started working on ${e.title}`),ei.A.success("Time tracking started"))},h=e=>{if(!e.isTracking||!e.currentSession)return;let t=parseFloat(((new Date().getTime()-e.currentSession.startTime.getTime())/36e5).toFixed(2));i?.(e.id,t),n?.(`Completed work session on ${e.title} (${t}h logged)`),ei.A.success("Time tracking stopped")},v=e=>{let t=e.reduce((e,t)=>t.hoursLogged?e+t.hoursLogged:t.endTime?e+(new Date(t.endTime).getTime()-new Date(t.startTime).getTime())/36e5:e,0);return`${t.toFixed(1)}h`},j=e=>({...e,problem:e.problem||`Addressing key challenges in ${e.title.toLowerCase()}`,kpis:e.kpis||["Completion within estimated hours","Client satisfaction score > 4.5/5","Quality metrics met"]});return a.jsx("div",{className:"overflow-x-auto",children:a.jsx("div",{className:"flex w-max gap-4 sm:gap-6 min-h-[600px]",children:en.map(e=>(0,a.jsxs)("div",{className:`w-[280px] sm:w-[350px] shrink-0 rounded-lg border ${eo[e]} flex flex-col`,children:[a.jsx("div",{className:"px-3 sm:px-4 py-3 border-b border-inherit",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"font-semibold text-gray-800 text-sm sm:text-base",children:ed[e]}),a.jsx(b.C,{variant:"outline",className:"ml-2 bg-white/50 text-gray-600 border-gray-200 text-xs",children:o(e).length})]})}),a.jsx("div",{className:"p-2 sm:p-3 space-y-3 flex-1 overflow-y-auto",children:o(e).map(t=>{let s=j(t),r=p(s,d);return a.jsx("div",{className:"bg-white rounded-lg p-3 sm:p-4 shadow-sm border border-gray-100 hover:shadow-md hover:border-gray-200 transition-all",children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start gap-2",children:[a.jsx("h4",{className:"font-medium text-gray-900 line-clamp-2 text-sm",children:t.title}),t.isTracking&&(0,a.jsxs)(b.C,{variant:"secondary",className:"animate-pulse bg-yellow-100 text-yellow-700 shrink-0 text-xs",children:[a.jsx(c.Z,{className:"w-3 h-3 mr-1"}),"Active"]})]}),(0,a.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded p-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 mb-1",children:[a.jsx(H.Z,{className:"w-3 h-3 text-red-600"}),a.jsx("span",{className:"text-xs font-medium text-red-800",children:"Problem"})]}),a.jsx("p",{className:"text-xs text-red-700 line-clamp-2",children:s.problem})]}),(0,a.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded p-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 mb-1",children:[a.jsx(L.Z,{className:"w-3 h-3 text-blue-600"}),a.jsx("span",{className:"text-xs font-medium text-blue-800",children:"Description"})]}),a.jsx("p",{className:"text-xs text-blue-700 line-clamp-2",children:t.description})]}),(0,a.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded p-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 mb-1",children:[a.jsx(K,{className:"w-3 h-3 text-green-600"}),a.jsx("span",{className:"text-xs font-medium text-green-800",children:"KPIs"})]}),(0,a.jsxs)("ul",{className:"text-xs text-green-700 space-y-0.5",children:[s.kpis.slice(0,2).map((e,t)=>(0,a.jsxs)("li",{className:"flex items-start gap-1",children:[a.jsx("span",{className:"text-green-500 mt-0.5",children:"•"}),a.jsx("span",{className:"line-clamp-1",children:e})]},t)),s.kpis.length>2&&(0,a.jsxs)("li",{className:"text-green-600 font-medium",children:["+",s.kpis.length-2," more"]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[a.jsx("span",{className:"text-gray-500 font-medium",children:"Hours Progress"}),(0,a.jsxs)("span",{className:"font-medium text-gray-700",children:[t.actualHours.toFixed(1),"/",t.estimatedHours,"h"]})]}),a.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full ${x(t)} transition-all`,style:{width:`${Math.min(100,t.actualHours/t.estimatedHours*100)}%`}})}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-gray-500",children:[(0,a.jsxs)("span",{children:[m(t).toFixed(1),"h remaining"]}),t.timeEntries&&t.timeEntries.length>0&&(0,a.jsxs)("span",{children:[v(t.timeEntries)," tracked"]})]})]}),r&&a.jsx(f.z,{onClick:e=>{e.stopPropagation(),r.action()},size:"sm",className:"w-full text-xs",variant:"in_progress"===e&&t.isTracking?"destructive":"default",children:"in_progress"===e&&t.isTracking?(0,a.jsxs)(a.Fragment,{children:[a.jsx(el,{className:"w-3 h-3 mr-1"}),r.text]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(V,{className:"w-3 h-3 mr-1"}),r.text]})}),t.dueDate&&(0,a.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-500 pt-1 border-t",children:[a.jsx(c.Z,{className:"w-3 h-3"}),"Due ",(0,g.WU)(t.dueDate,"MMM d")]})]})},t.id)})})]},e))})})},em=({role:e,deliverables:t=[],projectStartDate:s,projectDeadline:l,editable:i=!1,showForm:n=!1,onAddDeliverable:d,onStatusChange:c,onUpdateDeliverable:m})=>{let[x,p]=(0,r.useState)({title:"",description:"",problem:"",kpis:[""],estimatedHours:0}),u=(e,t)=>{let s=[...x.kpis];s[e]=t,p({...x,kpis:s})},h=e=>{if(x.kpis.length>1){let t=x.kpis.filter((t,s)=>s!==e);p({...x,kpis:t})}},j=async(e,s)=>{let a=e.target.files;if(!a?.length)return;let r=t.find(e=>e.id===s);if(!r){ei.A.error("Deliverable not found");return}if(!["scoped","in_progress","approved","performance_tracking"].includes(r.status)){ei.A.error("Files can only be uploaded for scoped deliverables and beyond");return}let l=Array.from(a).map(e=>({id:Date.now().toString(),name:e.name,url:URL.createObjectURL(e),uploadedAt:new Date})),i=[...r.files||[],...l];m?.(s,{files:i}),ei.A.success("Files uploaded successfully")},y=(e,s)=>{let a=t.find(t=>t.id===e);if(!a)return;let r=a.files?.filter(e=>e.id!==s)||[];m?.(e,{files:r}),ei.A.success("File removed")},w=t.filter(e=>["scoped","in_progress","approved","performance_tracking"].includes(e.status));return a.jsx("div",{className:"bg-white border border-[#E6E9F4] rounded-lg p-6 shadow-sm",children:(0,a.jsxs)(v.mQ,{defaultValue:"kanban",children:[(0,a.jsxs)(v.dr,{className:"mb-6 bg-white border rounded-lg",children:[a.jsx(v.SP,{value:"kanban",className:"data-[state=active]:bg-[#2E3A8C] data-[state=active]:text-white",children:"Kanban"}),i&&n&&a.jsx(v.SP,{value:"recommend",className:"data-[state=active]:bg-[#2E3A8C] data-[state=active]:text-white",children:"Recommend"}),a.jsx(v.SP,{value:"files",className:"data-[state=active]:bg-[#2E3A8C] data-[state=active]:text-white",children:"Files"})]}),a.jsx(v.nU,{value:"kanban",children:a.jsx(ec,{deliverables:t,projectStartDate:s,projectDeadline:l,onStatusChange:c,role:e})}),i&&n&&a.jsx(v.nU,{value:"recommend",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Deliverable title *"}),a.jsx(J.I,{value:x.title,onChange:e=>p({...x,title:e.target.value}),placeholder:"Enter deliverable title"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Problem statement *"}),a.jsx(ee.g,{value:x.problem,onChange:e=>p({...x,problem:e.target.value}),placeholder:"What specific problem does this deliverable solve?",className:"min-h-[80px]"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Detailed description *"}),a.jsx(ee.g,{value:x.description,onChange:e=>p({...x,description:e.target.value}),placeholder:"Describe the deliverable in detail",className:"min-h-[100px]"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Key Performance Indicators (KPIs) *"}),(0,a.jsxs)("div",{className:"space-y-2",children:[x.kpis.map((e,t)=>(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx(J.I,{value:e,onChange:e=>u(t,e.target.value),placeholder:`KPI ${t+1} (e.g., "Increase conversion rate by 15%")`,className:"flex-1"}),x.kpis.length>1&&a.jsx(f.z,{type:"button",variant:"outline",size:"sm",onClick:()=>h(t),className:"px-2",children:a.jsx(et.Z,{className:"w-4 h-4"})})]},t)),(0,a.jsxs)(f.z,{type:"button",variant:"outline",size:"sm",onClick:()=>{p({...x,kpis:[...x.kpis,""]})},className:"flex items-center gap-2",children:[a.jsx(es.Z,{className:"w-4 h-4"}),"Add KPI"]})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estimated hours *"}),a.jsx(J.I,{type:"number",min:"0",step:"0.5",value:x.estimatedHours,onChange:e=>p({...x,estimatedHours:parseFloat(e.target.value)||0}),placeholder:"0"})]}),a.jsx(f.z,{onClick:()=>{if(!x.title||!x.description||!x.problem||!x.estimatedHours){ei.A.error("Please fill in all required fields");return}let e=x.kpis.filter(e=>""!==e.trim());if(0===e.length){ei.A.error("Please add at least one KPI");return}let t={id:Date.now().toString(),...x,kpis:e,status:"recommended"};d?.(t),p({title:"",description:"",problem:"",kpis:[""],estimatedHours:0}),ei.A.success("Recommendation added successfully")},className:"bg-[#00A499] hover:bg-[#00A499]/90",children:"Submit Recommendation"})]})}),a.jsx(v.nU,{value:"files",children:(0,a.jsxs)("div",{className:"space-y-6",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Project Files"}),0===w.length?(0,a.jsxs)("div",{className:"text-center py-8 bg-yellow-50 rounded-lg border border-yellow-200",children:[a.jsx(O,{className:"w-12 h-12 mx-auto mb-3 text-yellow-500"}),a.jsx("p",{className:"text-yellow-700 font-medium",children:"No Deliverables Ready for Files"}),a.jsx("p",{className:"text-sm text-yellow-600",children:'Move deliverables to "Scoped" or beyond to upload files'})]}):w.map(e=>(0,a.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium",children:e.title}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e.description}),e.problem&&(0,a.jsxs)("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 mb-1",children:[a.jsx(H.Z,{className:"w-3 h-3 text-red-600"}),a.jsx("span",{className:"text-xs font-medium text-red-800",children:"Problem"})]}),a.jsx("p",{className:"text-xs text-red-700",children:e.problem})]}),e.kpis&&e.kpis.length>0&&(0,a.jsxs)("div",{className:"mt-2 p-2 bg-green-50 border border-green-200 rounded",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 mb-1",children:[a.jsx(K,{className:"w-3 h-3 text-green-600"}),a.jsx("span",{className:"text-xs font-medium text-green-800",children:"KPIs"})]}),a.jsx("ul",{className:"text-xs text-green-700 space-y-0.5",children:e.kpis.map((e,t)=>(0,a.jsxs)("li",{className:"flex items-start gap-1",children:[a.jsx("span",{className:"text-green-500 mt-0.5",children:"•"}),a.jsx("span",{children:e})]},t))})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[a.jsx(b.C,{variant:"secondary",className:"text-xs",children:"performance_tracking"===e.status?"Performance Tracking":e.status.charAt(0).toUpperCase()+e.status.slice(1)}),(0,a.jsxs)(b.C,{variant:"outline",className:"text-xs",children:[e.actualHours.toFixed(1),"/",e.estimatedHours,"h"]}),e.files&&e.files.length>0&&(0,a.jsxs)(b.C,{variant:"outline",className:"text-xs",children:[e.files.length," file",1!==e.files.length?"s":""]})]})]}),(0,a.jsxs)("div",{children:[a.jsx(J.I,{type:"file",className:"hidden",id:`file-upload-${e.id}`,multiple:!0,onChange:t=>j(t,e.id),accept:".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt,.zip,.rar,.jpg,.jpeg,.png,.gif"}),(0,a.jsxs)(f.z,{onClick:()=>document.getElementById(`file-upload-${e.id}`)?.click(),className:"bg-[#00A499] hover:bg-[#00A499]/90",size:"sm",children:[a.jsx(ea,{className:"w-4 h-4 mr-2"}),"Upload Files"]})]})]}),e.files&&0!==e.files.length?a.jsx("div",{className:"space-y-2",children:e.files.map(t=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx(L.Z,{className:"w-4 h-4 text-gray-400"}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:t.name}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:["Uploaded ",(0,g.WU)(t.uploadedAt,"MMM d, yyyy")]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(f.z,{variant:"ghost",size:"sm",onClick:()=>window.open(t.url,"_blank"),children:a.jsx(o.Z,{className:"w-4 h-4"})}),a.jsx(f.z,{variant:"ghost",size:"sm",onClick:()=>y(e.id,t.id),className:"text-red-600 hover:text-red-700",children:a.jsx(er,{className:"w-4 h-4"})})]})]},t.id))}):a.jsx("p",{className:"text-gray-500 text-sm",children:"No files uploaded for this deliverable"})]},e.id))]})})]})})},ex=({role:e,deliverables:t,activityLog:s})=>(0,a.jsxs)("div",{className:"bg-white border border-[#E6E9F4] rounded-lg p-6 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#2E3A8C]",children:"Activity Log"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 bg-gray-50 px-3 py-1.5 rounded-lg",children:[a.jsx(c.Z,{className:"w-4 h-4 text-[#2E3A8C]"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-[#2E3A8C]",children:[t.reduce((e,t)=>e+t.actualHours,0).toFixed(1),"h / ",t.reduce((e,t)=>e+t.estimatedHours,0).toFixed(1),"h"]})]})]}),"client"===e&&a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Summary of completed work and actual time logged compared to the initial estimate."}),"admin"===e&&a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Full audit trail and work verification view across deliverables."}),a.jsx("div",{className:"space-y-2",children:s.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[a.jsx(c.Z,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{children:e})]},t))}),(0,a.jsxs)("div",{className:"mt-6",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-2",children:"Deliverable Time Breakdown"}),a.jsx("div",{className:"space-y-2",children:t.map(e=>(0,a.jsxs)("div",{className:"flex justify-between items-center border border-gray-100 p-3 rounded",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:e.title}),(0,a.jsxs)(b.C,{variant:"secondary",children:[e.actualHours.toFixed(1),"h / ",e.estimatedHours.toFixed(1),"h"]})]},e.id))})]})]}),ep=(0,p.Z)("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]),eu=(0,p.Z)("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),eh=(0,p.Z)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);var eg=s(65685),ev=s(55049),eb=s(65819);s(60962);var ef=s(34214),ej=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let s=(0,ef.Z8)(`Primitive.${t}`),l=r.forwardRef((e,r)=>{let{asChild:l,...i}=e,n=l?s:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,a.jsx)(n,{...i,ref:r})});return l.displayName=`Primitive.${t}`,{...e,[t]:l}},{}),ey=s(94095);function ew(){return()=>{}}var eN="Avatar",[ek,eA]=(0,C.b)(eN),[eC,eP]=ek(eN),eS=r.forwardRef((e,t)=>{let{__scopeAvatar:s,...l}=e,[i,n]=r.useState("idle");return(0,a.jsx)(eC,{scope:s,imageLoadingStatus:i,onImageLoadingStatusChange:n,children:(0,a.jsx)(ej.span,{...l,ref:t})})});eS.displayName=eN;var eE="AvatarImage",eD=r.forwardRef((e,t)=>{let{__scopeAvatar:s,src:l,onLoadingStatusChange:i=()=>{},...n}=e,d=eP(eE,s),o=function(e,{referrerPolicy:t,crossOrigin:s}){let a=(0,ey.useSyncExternalStore)(ew,()=>!0,()=>!1),l=r.useRef(null),i=a?(l.current||(l.current=new window.Image),l.current):null,[n,d]=r.useState(()=>eR(i,e));return(0,eb.b)(()=>{d(eR(i,e))},[i,e]),(0,eb.b)(()=>{let e=e=>()=>{d(e)};if(!i)return;let a=e("loaded"),r=e("error");return i.addEventListener("load",a),i.addEventListener("error",r),t&&(i.referrerPolicy=t),"string"==typeof s&&(i.crossOrigin=s),()=>{i.removeEventListener("load",a),i.removeEventListener("error",r)}},[i,s,t]),n}(l,n),c=(0,ev.W)(e=>{i(e),d.onImageLoadingStatusChange(e)});return(0,eb.b)(()=>{"idle"!==o&&c(o)},[o,c]),"loaded"===o?(0,a.jsx)(ej.img,{...n,ref:t,src:l}):null});eD.displayName=eE;var eF="AvatarFallback",eT=r.forwardRef((e,t)=>{let{__scopeAvatar:s,delayMs:l,...i}=e,n=eP(eF,s),[d,o]=r.useState(void 0===l);return r.useEffect(()=>{if(void 0!==l){let e=window.setTimeout(()=>o(!0),l);return()=>window.clearTimeout(e)}},[l]),d&&"loaded"!==n.imageLoadingStatus?(0,a.jsx)(ej.span,{...i,ref:t}):null});function eR(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}eT.displayName=eF;let eZ=r.forwardRef(({className:e,...t},s)=>a.jsx(eS,{ref:s,className:(0,y.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));eZ.displayName=eS.displayName,r.forwardRef(({className:e,...t},s)=>a.jsx(eD,{ref:s,className:(0,y.cn)("aspect-square h-full w-full",e),...t})).displayName=eD.displayName;let e$=r.forwardRef(({className:e,...t},s)=>a.jsx(eT,{ref:s,className:(0,y.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));e$.displayName=eT.displayName;let e_=["Picked Up","Scope Defined","In Progress","Submitted","Revisions","Final Payment","Approved","Performance Tracking","Complete"],eI=e=>{let[t,s]=(0,r.useState)([{id:"1",sender:"client",text:"Hi there! Looking forward to working with you on this project.",timestamp:new Date(Date.now()-36e5)},{id:"2",sender:"talent",text:"Thanks for the opportunity! I've reviewed the brief and I'm excited to get started.",timestamp:new Date(Date.now()-18e5)}]),[a,l]=(0,r.useState)(!1);return{messages:t,setMessages:s,sendMessage:(e,t)=>{let a={id:Date.now().toString(),sender:"talent",text:e,timestamp:new Date,deliverableId:t};s(e=>[...e,a]),setTimeout(()=>{l(!0),setTimeout(()=>{l(!1);let e={id:(Date.now()+1).toString(),sender:"client",text:"Thanks for the update! Looking good so far.",timestamp:new Date,deliverableId:t};s(t=>[...t,e])},3e3)},1e3)},isTyping:a}},eq=({role:e,projectId:t,partnerTypingLabel:s="Partner is typing...",projectStatus:l,deliverables:i=[],onActivity:n})=>{let[d,o]=(0,r.useState)(""),[c,m]=(0,r.useState)(null),{messages:x,setMessages:p,sendMessage:u,isTyping:h}=eI(t),g=e_.some(e=>e.toLowerCase()===l.toLowerCase()),v=()=>{if(!d.trim()||!g)return;let e=d.trim();u(e,c||void 0),n?.(`Sent message: ${e.slice(0,50)}${e.length>50?"...":""}`),o("")},b=("talent"===e||"client"===e)&&"Picked Up"===l&&0===x.length;return(0,a.jsxs)("div",{className:"bg-white border border-[#E6E9F4] rounded-lg h-[600px] flex flex-col",children:[(0,a.jsxs)("div",{className:"p-4 border-b border-[#E6E9F4]",children:[a.jsx("h3",{className:"font-semibold text-[#2E3A8C]",children:"Project Chat"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Status: ",a.jsx("span",{className:"font-medium",children:l})]})]}),!g&&a.jsx("div",{className:"bg-yellow-100 text-yellow-900 text-sm px-4 py-2 border-b border-yellow-300",children:"Messaging will be enabled once the project is picked up."}),b&&(0,a.jsxs)("div",{className:"bg-blue-50 text-blue-900 text-sm px-4 py-3 border-b border-blue-200",children:[a.jsx("p",{className:"font-medium mb-2",children:"\uD83D\uDC4B Time to introduce yourself!"}),(0,a.jsxs)("p",{className:"text-xs",children:["Reach out to the ","client"===e?"talent":"client"," to introduce yourself, review the original deliverables, and confirm or recommend the work needed."]})]}),Array.isArray(i)&&i.length>0&&(0,a.jsxs)("div",{className:"p-2 border-b border-[#E6E9F4] flex gap-2 overflow-x-auto",children:[a.jsx("button",{onClick:()=>m(null),className:`px-3 py-1 rounded-full border text-xs whitespace-nowrap ${c?"text-gray-700 hover:bg-gray-50":"bg-[#2E3A8C] text-white"}`,children:"General"}),i.map(e=>a.jsx("button",{onClick:()=>m(e.id),className:`px-3 py-1 rounded-full border text-xs whitespace-nowrap ${c===e.id?"bg-[#2E3A8C] text-white":"text-gray-700 hover:bg-gray-50"}`,children:e.title},e.id))]}),a.jsx(eg.x,{className:"flex-1 p-4",children:(0,a.jsxs)("div",{className:"space-y-4",children:[0===x.length?a.jsx("div",{className:"text-center text-gray-500 py-8",children:a.jsx("p",{children:"No messages yet. Start the conversation!"})}):x.map(t=>a.jsx("div",{className:`flex ${t.sender===e?"justify-end":"justify-start"}`,children:(0,a.jsxs)("div",{className:`flex items-start gap-2 max-w-[70%] ${t.sender===e?"flex-row-reverse":"flex-row"}`,children:[a.jsx(eZ,{className:"w-8 h-8",children:a.jsx(e$,{className:"client"===t.sender?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700",children:"client"===t.sender?"C":"T"})}),(0,a.jsxs)("div",{className:`rounded-lg p-3 ${t.sender===e?"bg-[#2E3A8C] text-white":"bg-gray-100 text-gray-900"}`,children:[t.deliverableId&&(0,a.jsxs)("p",{className:"text-xs italic mb-1 opacity-75",children:["Related to: ",i.find(e=>e.id===t.deliverableId)?.title||"Unknown"]}),a.jsx("p",{className:"text-sm",children:t.text}),a.jsx("p",{className:"text-xs mt-1 opacity-75",children:new Date(t.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})},t.id)),h&&a.jsx("div",{className:"flex justify-start",children:(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[a.jsx(eZ,{className:"w-8 h-8",children:a.jsx(e$,{className:"client"===e?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700",children:"client"===e?"T":"C"})}),a.jsx("div",{className:"bg-gray-100 rounded-lg p-3",children:a.jsx("p",{className:"text-sm text-gray-600 italic",children:s})})]})})]})}),a.jsx("div",{className:"p-4 border-t border-[#E6E9F4]",children:g?(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)("div",{className:"flex-1 relative",children:[a.jsx(J.I,{value:d,onChange:e=>o(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),v())},placeholder:b?"Introduce yourself and discuss deliverables...":"Type your message...",className:"pr-20"}),(0,a.jsxs)("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex gap-1",children:[a.jsx(f.z,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:a.jsx(ep,{className:"h-3 w-3"})}),a.jsx(f.z,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:a.jsx(eu,{className:"h-3 w-3"})})]})]}),a.jsx(f.z,{onClick:v,disabled:!d.trim(),className:"bg-[#2E3A8C] hover:bg-[#1B276F]",children:a.jsx(eh,{className:"h-4 w-4"})})]}):a.jsx("div",{className:"text-center text-gray-500 text-sm",children:"Chat will be enabled once the project is picked up"})})]})},eM=function({projectId:e,onUploadComplete:t}){let[s,l]=(0,r.useState)(null),[i,n]=(0,r.useState)(!1);return(0,a.jsxs)("div",{className:"bg-white border border-[#E6E9F4] rounded-lg p-6 space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-[#2E3A8C]",children:"Upload Deliverable File"}),a.jsx(J.I,{type:"file",onChange:e=>{e.target.files&&e.target.files.length>0&&l(e.target.files[0])}}),a.jsx(f.z,{onClick:()=>{if(!s){ei.A.error("No file selected");return}n(!0),setTimeout(()=>{n(!1),ei.A.success(`File "${s.name}" uploaded successfully`),t?.(s),l(null)},1e3)},disabled:i||!s,className:"bg-[#2E3A8C] hover:bg-[#1B276F]",children:i?"Uploading...":"Upload File"})]})},ez=e=>{let[t,s]=(0,r.useState)([{id:"1",title:"Technical SEO Audit",description:"Comprehensive technical audit to identify crawlability, indexation, and speed issues.",problem:"Site has poor indexation and crawl efficiency",kpis:["Improve crawl rate by 30%","Fix all critical technical issues"],status:"in_progress",estimatedHours:8,actualHours:4,timeEntries:[{startTime:new Date,endTime:new Date,hoursLogged:4}]},{id:"2",title:"Keyword Strategy",description:"Develop comprehensive keyword targeting strategy",problem:"Current keyword targeting is too broad",kpis:["Identify 50+ high-value keywords","Create keyword mapping document"],status:"recommended",estimatedHours:6,actualHours:0,timeEntries:[]}]),[a,l]=(0,r.useState)(["Project started","Initial deliverables proposed","Technical SEO audit started"]);return{projectStatus:"In Progress",deliverables:t,activityLog:a,loading:!1,statusReady:!0,canAccess:!0,hasTrackingInfo:!1,updateDeliverableStatus:(e,a)=>{s(t=>t.map(t=>t.id===e?{...t,status:a}:t)),l(s=>[...s,`Deliverable "${t.find(t=>t.id===e)?.title}" status updated to ${a}`])},addDeliverable:e=>{s(t=>[...t,{...e,id:Date.now().toString(),actualHours:0,timeEntries:[]}]),l(t=>[...t,`New deliverable "${e.title}" added`])},updateDeliverable:(e,a)=>{s(t=>t.map(t=>t.id===e?{...t,...a}:t)),l(s=>[...s,`Deliverable "${t.find(t=>t.id===e)?.title}" updated`])},addActivityLogEntry:e=>{l(t=>[...t,e])},getApprovalProgress:()=>{let e=t.length,s=t.filter(e=>"approved"===e.status).length;return{approved:s,total:e,percentage:e>0?s/e*100:0}}}},eU=e=>{let[t,s]=(0,r.useState)("idle");return{escrowStatus:t,requestEscrowRelease:()=>{s("requested")},approveEscrowRelease:()=>{s("approved")},rejectEscrowRelease:()=>{s("rejected")},overrideEscrow:()=>{}}};function eH(){let e=(0,l.useParams)(),t=(0,l.useRouter)(),s=e.project_id,{user:p}=(0,n.aF)(),[j]=(0,r.useState)("SEO Optimization"),[y]=(0,r.useState)(new Date(Date.now()+12096e5)),[w]=(0,r.useState)(new Date),[A]=(0,r.useState)(40),[C]=(0,r.useState)(75),[P]=(0,r.useState)(A*C),[S,E]=(0,r.useState)("chat"),{projectStatus:D,deliverables:F,activityLog:T,loading:R,updateDeliverableStatus:Z,addDeliverable:$,updateDeliverable:_,addActivityLogEntry:I,canAccess:q,statusReady:M,getApprovalProgress:z}=ez(s),{escrowStatus:U,requestEscrowRelease:H,approveEscrowRelease:L,rejectEscrowRelease:V,overrideEscrow:W}=eU(s);if(R||!M)return a.jsx("div",{className:"min-h-screen bg-[#F0F4FF] flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#2E3A8C] mx-auto mb-4"}),a.jsx("p",{className:"text-[#2E3A8C]",children:"Loading project workspace..."})]})});if(!q)return p?.username||p?.id,a.jsx("div",{className:"min-h-screen bg-[#F0F4FF] flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"max-w-md mx-auto text-center",children:[(0,a.jsxs)(N,{className:"border-yellow-200 bg-yellow-50",children:[a.jsx(d.Z,{className:"h-4 w-4 text-yellow-600"}),(0,a.jsxs)(k,{className:"text-yellow-800",children:[a.jsx("div",{className:"font-semibold mb-2",children:"Workspace Not Available"}),(0,a.jsxs)("p",{className:"text-sm",children:["The project workspace is only accessible after the project has been picked up. Current status: ",D]})]})]}),a.jsx(f.z,{onClick:()=>t.push(`/talent/projects/details/${s}`),className:"mt-4 w-full sm:w-auto",children:"View Project Details"})]})});let K=z(),O="Picked Up"===D;return p?.username||p?.id,a.jsx("div",{className:"min-h-screen bg-[#F0F4FF]",children:(0,a.jsxs)("div",{className:"max-w-5xl mx-auto p-4 sm:p-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-[#2E3A8C] break-words",children:j}),a.jsx(f.z,{variant:"outline",asChild:!0,className:"w-full sm:w-auto",children:(0,a.jsxs)(i.default,{href:`/talent/projects/details/${s}`,className:"flex items-center gap-2",children:[a.jsx(o.Z,{className:"h-4 w-4"}),"Project Details"]})})]}),a.jsx(X,{status:D,role:"talent"}),a.jsx("div",{className:"bg-white border border-[#E6E9F4] rounded-lg p-4 mb-6",children:(0,a.jsxs)("div",{className:"flex flex-col gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"space-y-3 flex-1",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,a.jsxs)(b.C,{variant:"secondary",children:[a.jsx(c.Z,{className:"mr-1 h-3 w-3"}),D]}),(0,a.jsxs)(b.C,{variant:"outline",className:"bg-yellow-50 text-yellow-800 border-yellow-200",children:["Due ",(0,h.Q)(y,{addSuffix:!0})]}),(0,a.jsxs)(b.C,{variant:"outline",className:"text-xs",children:["Escrow: ",U]}),O&&(0,a.jsxs)(b.C,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:[a.jsx(m.Z,{className:"mr-1 h-3 w-3"}),"Chat Now Available"]})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[a.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 mb-1",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(x.Z,{className:"w-4 h-4 text-[#2E3A8C]"}),(0,a.jsxs)("span",{children:["Deadline: ",(0,g.WU)(y,"PPP")]})]})}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(c.Z,{className:"w-4 h-4 text-[#2E3A8C]"}),(0,a.jsxs)("span",{children:[A," hours @ $",C,"/hr"]})]})]}),!O&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2",children:a.jsx("div",{className:"bg-[#2E3A8C] h-2 rounded-full",style:{width:`${K.percentage}%`}})}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[K.approved," of ",K.total," deliverables approved"]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"text-sm font-medium text-[#2E3A8C]",children:["Your Earnings: $",(.85*P).toLocaleString()]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:["(85% of $",P.toLocaleString()," total)"]})]})]})}),O&&(0,a.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[a.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"\uD83D\uDE80 Next Steps"}),(0,a.jsxs)("div",{className:"text-sm text-blue-800 space-y-1",children:[(0,a.jsxs)("p",{children:["1. ",a.jsx("strong",{children:"Introduce yourself"})," to the client in the chat"]}),(0,a.jsxs)("p",{children:["2. ",a.jsx("strong",{children:"Review the original deliverables"})," and recommend any additional work"]}),(0,a.jsxs)("p",{children:["3. ",a.jsx("strong",{children:"Get client approval"})," on the final scope before starting work"]})]})]}),"Submitted"===D&&"idle"===U&&a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-semibold text-green-900 mb-1",children:"Work Complete!"}),a.jsx("p",{className:"text-sm text-green-800",children:"Request payment release from escrow"})]}),(0,a.jsxs)(f.z,{onClick:H,className:"bg-green-600 hover:bg-green-700 w-full sm:w-auto",children:[a.jsx(u,{className:"w-4 h-4 mr-2"}),"Request Escrow Release"]})]})}),"requested"===U&&a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(c.Z,{className:"w-4 h-4 text-yellow-600"}),(0,a.jsxs)("p",{className:"text-sm text-yellow-800",children:[a.jsx("strong",{children:"Payment Release Requested"})," - Waiting for client approval"]})]})}),"approved"===U&&a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(u,{className:"w-4 h-4 text-green-600"}),(0,a.jsxs)("p",{className:"text-sm text-green-800",children:[a.jsx("strong",{children:"Payment Released!"})," - Funds have been transferred to your account"]})]})}),(0,a.jsxs)(v.mQ,{value:S,onValueChange:E,className:"w-full",children:[(0,a.jsxs)(v.dr,{className:"grid w-full grid-cols-2 sm:grid-cols-4 bg-white mb-6 rounded-lg border border-[#E6E9F4]",children:[(0,a.jsxs)(v.SP,{value:"chat",className:"data-[state=active]:bg-[#2E3A8C] data-[state=active]:text-white relative text-xs sm:text-sm",children:["Chat",O&&a.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-red-500 rounded-full"})]}),a.jsx(v.SP,{value:"deliverables",className:"data-[state=active]:bg-[#2E3A8C] data-[state=active]:text-white text-xs sm:text-sm",children:"Deliverables"}),a.jsx(v.SP,{value:"upload",className:"data-[state=active]:bg-[#2E3A8C] data-[state=active]:text-white text-xs sm:text-sm",children:"Upload"}),a.jsx(v.SP,{value:"activity",className:"data-[state=active]:bg-[#2E3A8C] data-[state=active]:text-white text-xs sm:text-sm",children:"Activity"})]}),a.jsx(v.nU,{value:"chat",children:a.jsx(eq,{role:"talent",projectId:s,partnerTypingLabel:"Client is typing...",deliverables:F,projectStatus:D,onActivity:I})}),a.jsx(v.nU,{value:"deliverables",children:a.jsx(em,{role:"talent",deliverables:F,editable:!0,showForm:!0,projectDeadline:y,projectStartDate:w,onAddDeliverable:$,onStatusChange:Z,onUpdateDeliverable:_})}),a.jsx(v.nU,{value:"upload",children:a.jsx(eM,{projectId:s,onUploadComplete:e=>I(`Uploaded file: ${e.name}`)})}),a.jsx(v.nU,{value:"activity",children:a.jsx(ex,{role:"talent",deliverables:F,activityLog:T})})]})]})})}},54432:(e,t,s)=>{"use strict";s.d(t,{I:()=>i});var a=s(10326),r=s(17577),l=s(77863);let i=r.forwardRef(({className:e,type:t,...s},r)=>a.jsx("input",{type:t,className:(0,l.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...s}));i.displayName="Input"},79210:(e,t,s)=>{"use strict";s.d(t,{SP:()=>o,dr:()=>d,mQ:()=>n,nU:()=>c});var a=s(10326),r=s(17577),l=s(41002),i=s(77863);let n=l.fC,d=r.forwardRef(({className:e,variant:t="default",...s},r)=>a.jsx(l.aV,{ref:r,className:(0,i.cn)("client"===t?"grid grid-cols-4 bg-[#EDF0FB] border border-[#2E3A8C] p-2 rounded-md text-[#2E3A8C]":"inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...s}));d.displayName=l.aV.displayName;let o=r.forwardRef(({className:e,...t},s)=>a.jsx(l.xz,{ref:s,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-2 text-sm font-medium transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-white data-[state=active]:shadow-sm",e),...t}));o.displayName=l.xz.displayName;let c=r.forwardRef(({className:e,...t},s)=>a.jsx(l.VY,{ref:s,className:(0,i.cn)("mt-4 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));c.displayName=l.VY.displayName},87673:(e,t,s)=>{"use strict";s.d(t,{g:()=>i});var a=s(10326),r=s(17577),l=s(77863);let i=r.forwardRef(({className:e,...t},s)=>a.jsx("textarea",{className:(0,l.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...t}));i.displayName="Textarea"},37202:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},24230:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},37358:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},7027:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},40617:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},83855:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},53468:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},94019:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},13547:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(68570).createProxy)(String.raw`/home/project/app/talent/projects/workspace/[project_id]/page.tsx#default`)}};var t=require("../../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[510,555,642,464,576],()=>s(56372));module.exports=a})();